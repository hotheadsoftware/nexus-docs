"use strict";(self.webpackChunknexus_docs=self.webpackChunknexus_docs||[]).push([[254],{4135:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>d});var i=t(5893),a=t(1151);const s={sidebar_position:4},o="Create a Panel",r={id:"create-a-panel",title:"Create a Panel",description:"Discussion",source:"@site/docs/create-a-panel.md",sourceDirName:".",slug:"/create-a-panel",permalink:"/nexus-docs/docs/create-a-panel",draft:!1,unlisted:!1,editUrl:"https://github.com/hotheadsoftware/nexus-docs/docs/create-a-panel.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Panel Access Strategies",permalink:"/nexus-docs/docs/introspection"},next:{title:"Spark (Paddle) Setup",permalink:"/nexus-docs/docs/billing-spark"}},l={},d=[{value:"Discussion",id:"discussion",level:2},{value:"Procedure",id:"procedure",level:2},{value:"Estimated Completion Time",id:"estimated-completion-time",level:3},{value:"Migrate &amp; Seed",id:"migrate--seed",level:3},{value:"Local Environment",id:"local-environment",level:4},{value:"Remote Environments",id:"remote-environments",level:4}];function c(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"create-a-panel",children:"Create a Panel"}),"\n",(0,i.jsx)(n.h2,{id:"discussion",children:"Discussion"}),"\n",(0,i.jsx)(n.p,{children:"Out of the box, Nexus provides the Admin and Account panels, which live in the Central context."}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Central Context Panels"})}),(0,i.jsx)(n.p,{children:"The Admin panel is your panel for managing, supporting, and delivering the service."}),(0,i.jsx)(n.p,{children:'The Account panel is used by your subscribers to manage the subscription, create & manage instances,\ncontrol branding, and perform other "global" operations.'})]}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Tenant Context Panels"})}),(0,i.jsx)(n.p,{children:'These panels offer a view into data which lives in a separate database for each tenant. These are\nthe panels which will allow your users to access the application for its marketed functionality.\nFor examples of these panel names, see "Panel Access Strategies" in the menu.'})]}),"\n",(0,i.jsx)(n.p,{children:"Use the following procedure to create each needed Tenant Context Panel."}),"\n",(0,i.jsx)(n.h2,{id:"procedure",children:"Procedure"}),"\n",(0,i.jsx)(n.h3,{id:"estimated-completion-time",children:"Estimated Completion Time"}),"\n",(0,i.jsx)(n.p,{children:"< 5 minutes."}),"\n",(0,i.jsxs)(n.p,{children:["Run ",(0,i.jsx)(n.code,{children:"artisan nexus:make-panel"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Answer some questions."}),"\n",(0,i.jsx)(n.p,{children:"Migrate & Seed."}),"\n",(0,i.jsx)(n.h3,{id:"migrate--seed",children:"Migrate & Seed"}),"\n",(0,i.jsx)(n.h4,{id:"local-environment",children:"Local Environment"}),"\n",(0,i.jsx)(n.p,{children:"If you already have a working Nexus install, we recommend logging into the admin\npanel and deleting all tenants. This will automatically remove their databases from\nyour database container."}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["If you don't delete tenants from the UI, you'll want to drop their databases whenever\nyou perform a migrate",":fresh",". Otherwise, they'll accumulate and make it harder to find\nthe one you want when you need it."]})}),"\n",(0,i.jsx)(n.p,{children:"This command will completely rebuild your central-context database and populate it\nwith the initial users with email & password as specified in your .env file:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"artisan migrate:fresh --seed\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"The above command doesn't create any tenants. You'll do that by logging into /account\nand adding an instance. Note that we only seed users in local environments. In\na remote environment (staging, test, prod) we would expect users to follow some\nregistration flow."})}),"\n",(0,i.jsx)(n.h4,{id:"remote-environments",children:"Remote Environments"}),"\n",(0,i.jsx)(n.admonition,{type:"danger",children:(0,i.jsxs)(n.p,{children:["Running migrate",":fresh"," in production is not a good idea. It will drop all the tables\nin your database, causing loss of all existing data."]})}),"\n",(0,i.jsxs)(n.p,{children:["In non-local environments, use ",(0,i.jsx)(n.code,{children:"artisan migrate --seed"}),". This will preserve your\nexisting tables and run incremental migrations and seeders. All Nexus Seeders are\nwritten to be idempotent (they will only create resources that don't already exist,\nand are resilient against not-found and other unexpected conditions)."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["If you've completed the above steps to add a panel, you also need to run ",(0,i.jsx)(n.code,{children:"artisan tenant:seed"}),"\nso that the system can install custom branding options for the new panels in all existing\ntenant databases."]})})]})}function h(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>o});var i=t(7294);const a={},s=i.createContext(a);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);